# This record file contains helper records that allow writing all settings to
# the hardware and being notified of the status of that operation. These records
# are not part of the standard record files because there is a dependency on the
# sseq record which is not part of EPICS Base.

record(bi, "$(P)$(R)WriteAll:Status") {
  field(DESC, "Write in progress?")
  field(VAL, "0")
  field(PINI, "YES")
  field(ZNAM, "Done / Ready")
  field(ONAM, "Busy")
}

record(bo, "$(P)$(R)WriteAll:DoWithStatus") {
  field(DESC, "Write all sett. to HW and update status")
  field(FLNK, "$(P)$(R)Intrnl:WriteAllWithStatus")
  field(ZNAM, "Write all")
  field(ONAM, "Write all")
}

record(sseq, "$(P)$(R)Intrnl:WriteAllWithStatus") {
  field(DOL1, "1")
  field(LNK1, "$(P)$(R)WriteAll:Status PP")
  field(DOL2, "0")
  field(LNK2, "$(P)$(R)WriteAll.PROC CA")
  field(WAIT2, "Wait")
  field(DOL3, "0")
  field(LNK3, "$(P)$(R)WriteAll:Status PP")
}
